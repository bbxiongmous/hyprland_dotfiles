/* =================================================
   Waybar – Nerd Font only / Calm / Compact / Stable
   ================================================= */

* {
    font-family:
        "Hack Nerd Font",
        "Hack Nerd Font Mono",
        "Symbols Nerd Font",
        sans-serif;
    font-size: 15px;
}

/* Bar */
window#waybar {
    background-color: rgba(18, 20, 24, 0.55);
    border-bottom: 1px solid rgba(255, 255, 255, 0.08);
    color: rgba(255, 255, 255, 0.92);
}

/* Reset buttons */
button {
    border: none;
    box-shadow: none;
    background: transparent;
}

button:hover {
    box-shadow: none;
    background: transparent;
}

/* ---------------- Workspaces (tight) ---------------- */

/* 可选：让 workspaces 本体别额外占空间 */
#workspaces {
    margin: 0 2px;
}

/* 关键：压缩 workspace 按钮自身的横向占用 */
#workspaces button {
    min-width: 0;          /* 允许收缩（非常关键） */
    padding: 0 4px;        /* 比原来更紧凑：6px -> 4px */
    margin: 0;             /* 去掉按钮间额外空隙 */

    color: rgba(255, 255, 255, 0.80);
    border-radius: 7px;
}

/* 关键：清掉 label 的默认 padding（常见导致“看起来很松”的原因） */
#workspaces button > label {
    padding: 0;
    margin: 0;
}

#workspaces button:hover {
    background-color: rgba(255, 255, 255, 0.06);
}

#workspaces button.focused {
    background-color: rgba(255, 255, 255, 0.12);
    color: rgba(255, 255, 255, 0.96);
}

#workspaces button.urgent {
    background-color: rgba(235, 77, 75, 0.22);
    color: rgba(255, 255, 255, 0.96);
}

/* Window title */
#window {
    padding: 0 6px;
    color: rgba(255, 255, 255, 0.88);
}

/* Right modules */
#clock,
#battery,
#cpu,
#memory,
#disk,
#temperature,
#backlight,
#network,
#pulseaudio,
#tray,
#idle_inhibitor,
#power-profiles-daemon,
#language,
#keyboard-state,
#custom-power {
    padding: 0 6px;
    margin: 0 1px;
    border-radius: 7px;
    background-color: transparent;
    color: rgba(255, 255, 255, 0.92);
}

/* Hover */
#clock:hover,
#battery:hover,
#cpu:hover,
#memory:hover,
#disk:hover,
#temperature:hover,
#backlight:hover,
#network:hover,
#pulseaudio:hover,
#tray:hover,
#idle_inhibitor:hover,
#power-profiles-daemon:hover,
#language:hover,
#keyboard-state:hover,
#custom-power:hover {
    background-color: rgba(255, 255, 255, 0.06);
}

/* ---------------- Semantic states ---------------- */

/* Network disconnected */
#network.disconnected {
    background-color: rgba(245, 60, 60, 0.22);
    color: rgba(255, 255, 255, 0.96);
}

/* Battery */
#battery.charging,
#battery.plugged {
    background-color: rgba(38, 166, 91, 0.18);
}

#battery.critical:not(.charging) {
    background-color: rgba(245, 60, 60, 0.22);
    animation: none;
}

/* Disk (matches your existing palette) */
#disk.warning {
    background-color: rgba(255, 255, 255, 0.10);
}

#disk.critical {
    background-color: rgba(245, 60, 60, 0.22);
}

/* Audio muted (speaker or mic) */
#pulseaudio.muted {
    color: rgba(255, 255, 255, 0.70);
}

/* Temperature critical */
#temperature.critical {
    background-color: rgba(235, 77, 75, 0.22);
}

/* Tray */
#tray > .passive {
    -gtk-icon-effect: dim;
}

#tray > .needs-attention {
    -gtk-icon-effect: highlight;
    background-color: rgba(235, 77, 75, 0.22);
}

/* Idle inhibitor */
#idle_inhibitor.activated {
    background-color: rgba(255, 255, 255, 0.10);
}

/* Keyboard lock indicator */
#keyboard-state > label.locked {
    background-color: rgba(255, 255, 255, 0.10);
    border-radius: 6px;
    padding: 0 4px;
}

